#!/usr/bin/env ruby

require File.expand_path('../lib/client', File.dirname(__FILE__))
require File.expand_path('../lib/execute', File.dirname(__FILE__))
require File.expand_path('../lib/configurator', File.dirname(__FILE__))

include DTK::Client

Configurator.check_config_exists

# if connection parameters are not set up properly, print warning and exit dtk_shell
conn = Session.get_connection()
exit if validate_connection(conn)

component_template_id = (ARGV.size > 0 ? "dtk_tenant[#{ARGV[0]}]" : "dtk_tenant[dtk529]")
Execute.test(component_template_id)
